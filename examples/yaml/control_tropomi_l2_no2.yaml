analysis:
  start_time: '2019-07-15'
  end_time:   '2019-07-16'
  debug: True
  output_dir: /Users/mengli/Work/melodies-monet/outdata
  output_dir_save: /Users/mengli/Work/melodies-monet/outdata/save_intermediate
  output_dir_read: /Users/mengli/Work/melodies-monet/outdata/read_intermediate
  save:
    paired:
      method: 'netcdf'
      prefix: '201907'
      data: all
  read:
    paired: 
      method: 'netcdf'
      filenames: 
        {tropomi_l2_no2_wrfchem_v4.2: ['201907_tropomi_l2_no2_wrfchem_v4.2.nc4']}


obs:
  tropomi_l2_no2:
    debug: True
    filename: /Users/mengli/Work/melodies-monet/obsdata/tropomi_no2/20190715/*
    obs_type: sat_swath_clm
    variables:
        qa_value:
            quality_flag_min: 0.7
            var_applied: ['nitrogendioxide_tropospheric_column']
            fillvalue: 
        nitrogendioxide_tropospheric_column:       
            scale: 6.022141e+19 # unit convert form mol_perm2to molec_percm2,6.022141e+19
            fillvalue: 9.96921e+36
        averaging_kernel:
            fillvalue: 9.96921e+36
        air_mass_factor_total:
            fillvalue: 9.96921e+36
        air_mass_factor_troposphere:
            fillvalue: 9.96921e+36
        latitude: None 
        longitude: None 

        preslev: # pressure of the vertical layer center
            tm5_constant_a:    
                group: ['PRODUCT']
                maximum: 9.0e+36
            tm5_constant_b:
                group: ['PRODUCT']
                maximum: 9.0e+36
            surface_pressure:
                group: ['PRODUCT/SUPPORT_DATA/INPUT_DATA/']
                maximum: 9.0e+36
            tm5_tropopause_layer_index:
                group: ['PRODUCT']
        #latitude_bounds:
        #    group: ['PRODUCT/SUPPORT_DATA/GEOLOCATIONS/'] 
        #longitude_bounds:
        #   group: ['PRODUCT/SUPPORT_DATA/GEOLOCATIONS/']

model:
  wrfchem_v4.2: 
    files: /Users/mengli/Work/melodies-monet/modeldata/wrfchem/0715/*
    mod_type: 'wrfchem'
    apply_ak: True
    mod_kwargs: 
      mech: 'racm_esrl_vcp'
    mapping: #model species name : obs species name
      tropomi_l2_no2:
        no2: nitrogendioxide_tropospheric_column
        PH:  ph 
        PHB: phb 
        PB: pb  
        P: p 
        T: T 

    projection: ~
    plot_kwargs: #Opt
      color: 'dodgerblue'
      marker: '^'
      linestyle: ':' 



stats:
  rmse: True
  mse: True
